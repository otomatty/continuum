# 画面設計提案書

**作成日:** 2025-11-21  
**作成者:** AI Assistant  
**関連ドキュメント:** PRD.md

## 1. 概要

本ドキュメントは、Continuumアプリケーションの画面構成と画面遷移について、PRD.mdの機能要件を基に提案するものです。

## 2. 画面構成

### 2.1 主要画面

#### A. ランディングページ (`/`)
**目的:** アプリケーションの価値提案と、認証前のユーザーへの訴求

**主要コンテンツ:**
- ヒーローセクション
  - キャッチコピー: "あなたのOSS活動を、永続的な資産に"
  - サブタイトル: "会社の枠を超えて輝く、あなたの技術実績を可視化"
  - CTAボタン: "GitHub OAuth でログイン"
- 価値提案セクション (3カラム)
  - "永続的な実績の構築"
  - "最先端技術でスキルアップ"
  - "オープンな文化の醸成"
- 統計情報プレビュー (認証不要)
  - 総コントリビューター数
  - 総リポジトリ数
  - 今月の外部PR数
- フッター
  - 会社情報
  - リンク集
  - ソーシャルメディアリンク

**遷移先:**
- ログインボタン → GitHub OAuth → ダッシュボード (`/dashboard`)

---

#### B. ダッシュボード (`/dashboard`)
**目的:** 組織全体のOSS活動の可視化と、活動の促進

**主要コンテンツ:**

**1. グローバルナビゲーション**
- ロゴ (クリックでダッシュボードへ)
- メニュー項目:
  - Dashboard (現在地)
  - Knowledge (知見共有)
  - Contributors (コントリビューター一覧)
  - Repositories (リポジトリ一覧)
- ユーザードロップダウン (右上)
  - マイポートフォリオ
  - 設定
  - ログアウト

**2. 組織活動サマリー (Stats Grid)**
```
┌─────────────────────┬─────────────────────┬─────────────────────┐
│ Total Contributors  │ Active Repositories │ External PRs        │
│ 127                 │ 45                  │ 23 this month       │
│ ↑ 12% vs last month │ ↑ 3 new this week   │ ↑ 5 vs last month   │
└─────────────────────┴─────────────────────┴─────────────────────┘
```

**3. リアルタイムアクティビティタイムライン**
- 最新のコミット、PR、Issue、レビュー等を時系列表示
- 各アクティビティカードに表示:
  - アバター + ユーザー名 (クリックでポートフォリオへ)
  - アクティビティタイプ (badge)
  - リポジトリ名 (リンク)
  - タイムスタンプ
  - 外部コントリビューター判定 (バッジ: "Alumni" / "External")

**4. 週間/月間ランキング (Tabs切り替え)**
- コントリビューションスコア順
- 各ランク項目:
  - 順位
  - アバター + ユーザー名
  - スコア (コミット数 + PR数 + レビュー数等で算出)
  - トレンド (↑↓ 前週/前月比)

**5. トップリポジトリ (Table)**
- リポジトリ名
- Star数
- 最終更新日
- コントリビューター構成比 (社員 / 外部)
- 主要言語
- アクションボタン: "詳細" (リポジトリ詳細ページへ)

**遷移先:**
- ユーザー名クリック → ポートフォリオページ (`/portfolio/:username`)
- リポジトリ名クリック → リポジトリ詳細ページ (`/repository/:owner/:repo`)
- Knowledgeメニュー → 知見共有ページ (`/knowledge`)
- Contributorsメニュー → コントリビューター一覧 (`/contributors`)
- Repositoriesメニュー → リポジトリ一覧 (`/repositories`)

---

#### C. ポートフォリオページ (`/portfolio/:username`)
**目的:** 個人のOSS活動の全実績を可視化し、外部にも共有可能なポートフォリオとして機能

**主要コンテンツ:**

**1. ヘッダー**
- アバター (大)
- ユーザー名 / 表示名
- 所属ステータス (Current Employee / Alumni / External)
- GitHub プロフィールリンク
- 共有ボタン (URL コピー)

**2. 組織貢献ハイライト (Stats Grid)**
```
┌──────────────────┬──────────────────┬──────────────────┬──────────────────┐
│ Total Commits    │ Pull Requests    │ Code Reviews     │ Issues           │
│ 1,234            │ 89               │ 156              │ 45               │
└──────────────────┴──────────────────┴──────────────────┴──────────────────┘
```

**3. コントリビューショングラフ**
- GitHub風のヒートマップ (contribution heatmap)
- 期間フィルター: 今年 / 全期間 / 在籍期間のみ
- クリックで詳細表示

**4. リポジトリ別コントリビューション (Accordion or Tabs)**
- リポジトリごとに折りたたみ可能
- 各リポジトリセクション:
  - リポジトリ名 + リンク
  - コミット数、PR数、レビュー数
  - 主な言語
  - 最終更新日
  - 主要コミット一覧 (Top 5)

**5. アクティビティタイムライン**
- このユーザーのアクティビティのみを時系列表示
- フィルター機能:
  - タイプ (Commit / PR / Review / Issue)
  - リポジトリ
  - 期間

**6. エクスポート機能**
- PDFエクスポート (職務経歴書用)
- JSON/CSV エクスポート (データとして利用)

**遷移先:**
- リポジトリ名クリック → リポジトリ詳細ページ (`/repository/:owner/:repo`)
- 戻るボタン → ダッシュボード (`/dashboard`)

---

#### D. 知見共有ページ (`/knowledge`)
**目的:** GitHub Discussionsをデータソースとした、検索・閲覧可能なナレッジベース

**主要コンテンツ:**

**1. ヘッダー**
- タイトル: "Knowledge Base"
- サブタイトル: "組織の知見を共有・発見する場所"

**2. 検索・フィルタリングエリア**
- 検索バー (全文検索)
- カテゴリフィルター (ドロップダウン or チップ)
  - Announcements
  - Q&A
  - Show and Tell
  - Ideas
  - General
- 投稿者フィルター (ドロップダウン)
- ソート順 (最新 / 人気 / コメント数)

**3. ナレッジフィード (カード一覧)**
- 各カード:
  - タイトル
  - 投稿者 (アバター + 名前)
  - カテゴリ (badge)
  - サマリー (最初の2-3行)
  - タグ
  - リアクション数
  - コメント数
  - 投稿日時

**4. ページネーション**
- 1ページあたり 20件
- ページ番号 + 前後ボタン

**遷移先:**
- カードクリック → ナレッジ詳細ページ (`/knowledge/:discussion_id`)
- 投稿者クリック → ポートフォリオページ (`/portfolio/:username`)

---

#### E. ナレッジ詳細ページ (`/knowledge/:discussion_id`)
**目的:** 個別のDiscussionの内容を読みやすく表示

**主要コンテンツ:**

**1. パンくずリスト**
- Knowledge > カテゴリ名 > タイトル

**2. 記事ヘッダー**
- タイトル (大)
- 投稿者情報 (アバター + 名前 + 投稿日)
- カテゴリ (badge)
- タグ
- リアクションボタン (👍 👎 ❤️ 🎉 🚀)
- GitHub で開く (外部リンク)

**3. 本文**
- Markdown レンダリング
- コードシンタックスハイライト
- 画像表示

**4. コメントセクション**
- コメント一覧 (ネスト表示)
- 各コメント:
  - 投稿者情報
  - コメント内容 (Markdown)
  - リアクション
  - 返信ボタン

**5. 関連記事**
- 同じカテゴリの最新記事 (3-5件)

**遷移先:**
- パンくずリスト → 知見共有ページ (`/knowledge`)
- 投稿者クリック → ポートフォリオページ (`/portfolio/:username`)
- GitHub で開く → GitHub Discussions (外部)

---

#### F. コントリビューター一覧 (`/contributors`)
**目的:** 組織に貢献した全てのコントリビューターを一覧表示

**主要コンテンツ:**

**1. ヘッダー**
- タイトル: "Contributors"
- サブタイトル: "組織を支える全ての貢献者"

**2. フィルター・ソートエリア**
- 検索バー (名前検索)
- ステータスフィルター (All / Current / Alumni / External)
- ソート順 (貢献度 / 名前 / 最終活動日)

**3. コントリビューターグリッド (カード一覧)**
- 各カード:
  - アバター (大)
  - ユーザー名
  - 表示名
  - ステータス (badge)
  - 貢献サマリー:
    - Commits: XXX
    - PRs: XX
    - Reviews: XX
  - 最終活動日
  - アクションボタン: "View Portfolio"

**4. ページネーション**

**遷移先:**
- カードクリック / "View Portfolio" → ポートフォリオページ (`/portfolio/:username`)

---

#### G. リポジトリ一覧 (`/repositories`)
**目的:** 組織の全パブリックリポジトリを一覧表示

**主要コンテンツ:**

**1. ヘッダー**
- タイトル: "Repositories"
- サブタイトル: "組織のオープンソースプロジェクト"

**2. フィルター・ソートエリア**
- 検索バー (リポジトリ名検索)
- 言語フィルター (ドロップダウン or チップ)
- ソート順 (Star数 / 最終更新日 / 名前)

**3. リポジトリテーブル**
- カラム:
  - リポジトリ名 + 説明
  - 主要言語
  - Star数
  - Fork数
  - 最終更新日
  - コントリビューター数
  - 外部貢献者数
  - アクション: "Details"

**4. ページネーション**

**遷移先:**
- Detailsボタン → リポジトリ詳細ページ (`/repository/:owner/:repo`)
- リポジトリ名クリック → GitHub リポジトリ (外部)

---

#### H. リポジトリ詳細ページ (`/repository/:owner/:repo`)
**目的:** 個別リポジトリの詳細情報と活動履歴を表示

**主要コンテンツ:**

**1. パンくずリスト**
- Repositories > :owner/:repo

**2. リポジトリヘッダー**
- リポジトリ名 (大)
- 説明
- トピックタグ
- GitHub で開く (外部リンク)
- Star / Fork / Watch ボタン (GitHub API連携)

**3. 統計情報 (Stats Grid)**
```
┌──────────────────┬──────────────────┬──────────────────┬──────────────────┐
│ Stars            │ Forks            │ Contributors     │ Open Issues      │
│ 1,234            │ 89               │ 23               │ 12               │
└──────────────────┴──────────────────┴──────────────────┴──────────────────┘
```

**4. コントリビューター構成 (円グラフ)**
- 社員 vs Alumni vs External の比率

**5. トップコントリビューター (カード一覧)**
- コミット数上位 5-10名
- 各カード:
  - アバター
  - ユーザー名
  - ステータス (badge)
  - コミット数

**6. アクティビティタイムライン**
- このリポジトリのアクティビティのみを時系列表示

**7. 言語構成 (バーチャート)**
- 使用言語の比率

**遷移先:**
- パンくずリスト → リポジトリ一覧 (`/repositories`)
- コントリビューター → ポートフォリオページ (`/portfolio/:username`)
- GitHub で開く → GitHub リポジトリ (外部)

---

#### I. 設定ページ (`/settings`)
**目的:** ユーザーの個人設定

**主要コンテンツ:**

**1. プロフィール設定**
- 表示名
- アバター (GitHub同期)
- 自己紹介
- SNSリンク

**2. プライバシー設定**
- ポートフォリオの公開設定 (Public / Private)
- アクティビティの表示設定

**3. 通知設定**
- メール通知の有効/無効
- 通知する活動タイプ

**4. データエクスポート**
- 自分のデータをエクスポート (JSON/CSV)

**遷移先:**
- 戻るボタン → ダッシュボード (`/dashboard`)

---

### 2.2 エラー/特殊画面

#### J. 404 Not Found (`/404`)
- メッセージ: "ページが見つかりません"
- ホームに戻るボタン

#### K. 認証エラー (`/auth/error`)
- メッセージ: "認証に失敗しました"
- 再試行ボタン

#### L. メンテナンス (`/maintenance`)
- メッセージ: "メンテナンス中です"
- 予定終了時刻

---

## 3. 画面遷移図

```
┌─────────────────────────────────────────────────────────────────────┐
│                         ランディングページ (/)                         │
│                                                                       │
│  [GitHub OAuth でログイン] ────────────────┐                          │
└─────────────────────────────────────────┬─┘                          │
                                          │                            │
                                          ↓                            │
                            ┌──────────────────────────┐               │
                            │    GitHub OAuth          │               │
                            └──────────────┬───────────┘               │
                                          │                            │
                                          ↓                            │
┌─────────────────────────────────────────────────────────────────────┐
│                       ダッシュボード (/dashboard)                      │
│                                                                       │
│  [Navigation]                                                         │
│  - Knowledge ─────────┐                                               │
│  - Contributors ──────┼───┐                                           │
│  - Repositories ──────┼───┼───┐                                       │
│  [User Menu]          │   │   │                                       │
│  - My Portfolio ──────┼───┼───┼───┐                                   │
│  - Settings ──────────┼───┼───┼───┼───┐                               │
│                       │   │   │   │   │                               │
│  [タイムライン]        │   │   │   │   │                               │
│  - ユーザー名クリック──┼───┼───┼───┤   │                               │
│  - リポジトリ名クリック─┼───┼───┤   │   │                               │
│                       │   │   │   │   │                               │
│  [ランキング]          │   │   │   │   │                               │
│  - ユーザー名クリック──┼───┼───┼───┤   │                               │
│                       │   │   │   │   │                               │
│  [リポジトリ一覧]      │   │   │   │   │                               │
│  - 詳細ボタン ─────────┼───┼───┤   │   │                               │
└───────────────────────┼───┼───┼───┼───┼───────────────────────────────┘
                        │   │   │   │   │
        ┌───────────────┘   │   │   │   │
        ↓                   │   │   │   │
┌───────────────────────┐   │   │   │   │
│ 知見共有              │   │   │   │   │
│ (/knowledge)          │   │   │   │   │
│                       │   │   │   │   │
│ [フィード一覧]        │   │   │   │   │
│ - カードクリック ─────┐   │   │   │   │
│ - 投稿者クリック ─────┼───┼───┼───┤   │
└───────────────┬───────┼───┴───┴───┘   │
                │       │               │
                │       ↓               │
                │  ┌────────────────────┐
                │  │ ナレッジ詳細       │
                │  │ (/knowledge/:id)   │
                │  │                    │
                │  │ - 投稿者クリック ──┼──┐
                │  │ - パンくず ────────┘  │
                │  └────────────────────┘  │
                │                          │
        ┌───────┴────────┐                 │
        ↓                ↓                 │
┌──────────────────┐ ┌────────────────────┼──────┐
│ コントリビューター │ │ リポジトリ一覧     │      │
│ (/contributors)   │ │ (/repositories)    │      │
│                   │ │                    │      │
│ [カード一覧]      │ │ [テーブル]         │      │
│ - カードクリック──┼─┼─ 詳細ボタン ───────┐      │
└───────────────────┘ └────────────────────┼──────┘
                                           │      │
        ┌──────────────────────────────────┘      │
        ↓                                         │
┌───────────────────────────┐                     │
│ リポジトリ詳細             │                     │
│ (/repository/:owner/:repo) │                     │
│                            │                     │
│ [コントリビューター一覧]   │                     │
│ - ユーザー名クリック ──────┼─────────────────────┤
│ - パンくず ────────────────┘                     │
└────────────────────────────┘                     │
                                                   │
        ┌──────────────────────────────────────────┘
        ↓
┌───────────────────────────┐
│ ポートフォリオ             │
│ (/portfolio/:username)     │
│                            │
│ [リポジトリ別コントリビ]   │
│ - リポジトリ名クリック ────┘
│                            │
│ [アクティビティタイム]     │
│ - リポジトリ名クリック ────┘
│                            │
│ [戻るボタン] ──────────────┐
└────────────────────────────┘
                             │
        ┌────────────────────┘
        ↓
┌───────────────────────────┐
│ 設定                       │
│ (/settings)                │
│                            │
│ [戻るボタン] ──────────────┐
└────────────────────────────┘
```

---

## 4. 画面遷移フローの要点

### 4.1 メインフロー

1. **未認証ユーザー**
   - ランディングページ (`/`) → GitHub OAuth → ダッシュボード (`/dashboard`)

2. **認証済みユーザー**
   - ダッシュボード (`/dashboard`) を起点に、以下の画面へ自由に遷移
     - 知見共有 (`/knowledge`)
     - コントリビューター一覧 (`/contributors`)
     - リポジトリ一覧 (`/repositories`)
     - ポートフォリオ (`/portfolio/:username`)
     - 設定 (`/settings`)

### 4.2 深掘りフロー

- **知見共有フロー**
  - 知見共有一覧 → ナレッジ詳細 → 投稿者ポートフォリオ

- **リポジトリフロー**
  - リポジトリ一覧 → リポジトリ詳細 → コントリビューターポートフォリオ

- **ポートフォリオフロー**
  - ダッシュボード/一覧 → ポートフォリオ → リポジトリ詳細

### 4.3 共通ナビゲーション

全ての認証済みページで共通のグローバルナビゲーションを表示:
- ロゴ (ダッシュボードへ)
- メインメニュー (Dashboard / Knowledge / Contributors / Repositories)
- ユーザードロップダウン (My Portfolio / Settings / Logout)

---

## 5. レスポンシブデザインの考慮

### 5.1 モバイル対応 (< 768px)

- グローバルナビゲーション → ハンバーガーメニュー (Drawer)
- グリッドレイアウト → 1カラム
- テーブル → カード形式に変換
- Stats Grid → 2カラム or 1カラム

### 5.2 タブレット対応 (768px - 1024px)

- グリッドレイアウト → 2カラム
- テーブル → スクロール可能

### 5.3 デスクトップ対応 (> 1024px)

- グリッドレイアウト → 3-4カラム
- サイドバー表示 (フィルター等)

---

## 6. アクセシビリティの考慮

- セマンティックHTML (`<nav>`, `<main>`, `<article>`, etc.)
- キーボード操作対応 (Tab, Enter, Escape)
- ARIA属性の適切な使用
- カラーコントラスト (WCAG AA準拠)
- スクリーンリーダー対応

---

## 7. パフォーマンスの考慮

- SSR (Server-Side Rendering) によるファーストビューの高速化
- Lazy Loading (画像、コンポーネント)
- Code Splitting (ページ単位)
- API キャッシュ (Cloudflare KV)
- Infinite Scroll or Pagination (大量データ)

---

## 8. 実装優先順位

### Phase 1 (MVP)
1. ランディングページ (`/`)
2. ダッシュボード (`/dashboard`)
3. ポートフォリオページ (`/portfolio/:username`)

### Phase 2
4. コントリビューター一覧 (`/contributors`)
5. リポジトリ一覧 (`/repositories`)
6. リポジトリ詳細 (`/repository/:owner/:repo`)

### Phase 3
7. 知見共有一覧 (`/knowledge`)
8. ナレッジ詳細 (`/knowledge/:id`)
9. 設定ページ (`/settings`)

### Phase 4 (機能拡張)
10. エクスポート機能
11. 高度な検索・フィルター
12. 通知機能

---

## 9. 次のアクションアイテム

- [ ] 各画面のワイヤーフレーム作成
- [ ] デザインシステムの構築 (カラー、タイポグラフィ、コンポーネント)
- [ ] GitHub API からのデータ取得設計
- [ ] ルーティング設計 (Leptos Router)
- [ ] 認証フロー実装 (GitHub OAuth)
- [ ] Phase 1 の実装開始

---

## 10. 参考資料

- PRD.md
- 既存実装:
  - `/app/src/pages/home/mod.rs`
  - `/app/src/pages/dashboard/mod.rs`
  - `/app/src/pages/portfolio/mod.rs`
  - `/app/src/pages/components/mod.rs`

